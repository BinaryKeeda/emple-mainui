import{r as l,aj as b,j as e,a5 as y,a7 as S,ak as H,al as w,e as h,c as d,I,a as m,R as f,bB as M,u as N,o as k,ae as O,af as C,s as z,O as L,L as V}from"./index-Dgxf8jnM.js";import{B as A}from"./Box-m-LtyOOm.js";import{T}from"./Tooltip-B3qAYnY_.js";import{A as v}from"./Avatar-sCuJoBVv.js";import{L as D,M as B}from"./Menu-DlfYpJNn.js";import{g as P,M as j}from"./MenuItem-Zy46vF7i.js";import{P as F,S as R}from"./ShortText-DCPzPlgT.js";import{D as U}from"./Divider-Bt6up9Hs.js";import{D as E}from"./DashboardOutlined-wif71jMN.js";import"./extendSxProp-DfyTISa-.js";import"./index-DdPFbzDz.js";import"./Grow-Bpnmt4GB.js";import"./Popper-B1buMYpQ.js";import"./Paper-lVDyPjmC.js";import"./mergeSlotProps-B3zE2hsj.js";import"./dividerClasses-BK2cx7nh.js";const $=s=>{const{alignItems:n,classes:a}=s;return H({root:["root",n==="flex-start"&&"alignItemsFlexStart"]},P,a)},G=y("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(s,n)=>{const{ownerState:a}=s;return[n.root,a.alignItems==="flex-start"&&n.alignItemsFlexStart]}})(w(({theme:s})=>({minWidth:56,color:(s.vars||s).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Q=l.forwardRef(function(n,a){const r=b({props:n,name:"MuiListItemIcon"}),{className:o,...t}=r,c=l.useContext(D),i={...r,alignItems:c.alignItems},p=$(i);return e.jsx(G,{className:S(p.root,o),ownerState:i,ref:a,...t})}),q=h(e.jsx("path",{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11zM7 19H5v-2h2zm0-4H5v-2h2zm0-4H5V9h2zm4 4H9v-2h2zm0-4H9V9h2zm0-4H9V5h2zm4 8h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm4 12h-2v-2h2zm0-4h-2v-2h2z"}),"ApartmentOutlined"),_=h(e.jsx("path",{d:"M13 7.5h5v2h-5zm0 7h5v2h-5zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zM11 6H6v5h5zm-1 4H7V7h3zm1 3H6v5h5zm-1 4H7v-3h3z"}),"BallotOutlined"),W=h(e.jsx("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5M4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12m0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7m7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44M15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35"}),"GroupOutlined"),Y=h([e.jsx("path",{d:"M22 21c-1.11 0-1.73-.37-2.18-.64-.37-.22-.6-.36-1.15-.36-.56 0-.78.13-1.15.36-.46.27-1.07.64-2.18.64s-1.73-.37-2.18-.64c-.37-.22-.6-.36-1.15-.36-.56 0-.78.13-1.15.36-.46.27-1.08.64-2.19.64s-1.73-.37-2.18-.64c-.37-.23-.6-.36-1.15-.36s-.78.13-1.15.36c-.46.27-1.08.64-2.19.64v-2c.56 0 .78-.13 1.15-.36.46-.27 1.08-.64 2.19-.64s1.73.37 2.18.64c.37.23.59.36 1.15.36s.78-.13 1.15-.36c.46-.27 1.08-.64 2.19-.64s1.73.37 2.18.64c.37.22.6.36 1.15.36s.78-.13 1.15-.36c.45-.27 1.07-.64 2.18-.64s1.73.37 2.18.64c.37.23.59.36 1.15.36zm0-4.5c-1.11 0-1.73-.37-2.18-.64-.37-.22-.6-.36-1.15-.36-.56 0-.78.13-1.15.36-.45.27-1.07.64-2.18.64s-1.73-.37-2.18-.64c-.37-.22-.6-.36-1.15-.36-.56 0-.78.13-1.15.36-.45.27-1.07.64-2.18.64s-1.73-.37-2.18-.64c-.37-.22-.6-.36-1.15-.36s-.78.13-1.15.36c-.47.27-1.09.64-2.2.64v-2c.56 0 .78-.13 1.15-.36.45-.27 1.07-.64 2.18-.64s1.73.37 2.18.64c.37.22.6.36 1.15.36.56 0 .78-.13 1.15-.36.45-.27 1.07-.64 2.18-.64s1.73.37 2.18.64c.37.22.6.36 1.15.36s.78-.13 1.15-.36c.45-.27 1.07-.64 2.18-.64s1.73.37 2.18.64c.37.22.6.36 1.15.36v2zM8.67 12c.56 0 .78-.13 1.15-.36.46-.27 1.08-.64 2.19-.64s1.73.37 2.18.64c.37.22.6.36 1.15.36s.78-.13 1.15-.36c.12-.07.26-.15.41-.23L10.48 5C8.93 3.45 7.5 2.99 5 3v2.5c1.82-.01 2.89.39 4 1.5l1 1-3.25 3.25c.31.12.56.27.77.39.37.23.59.36 1.15.36"},"0"),e.jsx("circle",{cx:"16.5",cy:"5.5",r:"2.5"},"1")],"Pool"),J=h(e.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H8V4h12zm-6.49-5.84c.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.6.58 1.73.01 2.57-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c.01-.41-.06-1.08.26-1.66m-.56 3.79c0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04 0 .58-.44 1.05-1.04 1.05-.58 0-1.05-.47-1.05-1.05"}),"QuizOutlined"),K=h(e.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9zM6 3h3v2H6zm3 18H6v-2h3zm0-8H6v-2h3zm10 0h-3v-2h3z"}),"SchemaOutlined"),X=({handleLogout:s})=>{var i,p,u,g;const[n,a]=l.useState(null),r=!!n,{user:o}=d(x=>x.auth),t=x=>{a(x.currentTarget)},c=()=>{a(null)};return e.jsxs(e.Fragment,{children:[e.jsx(A,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:e.jsx(T,{title:"Account settings",children:e.jsx(I,{onClick:t,size:"small",sx:{ml:2},"aria-controls":r?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":r?"true":void 0,children:e.jsx(v,{src:o.avatar,sx:{width:32,height:32},children:((p=(i=o==null?void 0:o.name)==null?void 0:i[0])==null?void 0:p.toUpperCase())||"U"})})})}),e.jsxs(B,{anchorEl:n,id:"account-menu",open:r,onClose:c,onClick:c,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(m,{to:`/profile/${o._id}`,style:{textDecoration:"none",color:"inherit"},children:e.jsxs(j,{onClick:c,children:[e.jsxs(v,{src:o.avatar,children:[" ",((g=(u=o==null?void 0:o.name)==null?void 0:u[0])==null?void 0:g.toUpperCase())||"U"]})," ",e.jsx("small",{children:"Profile"})]})}),e.jsxs(j,{onClick:s,children:[e.jsx(Q,{children:e.jsx(F,{})}),e.jsx("small",{children:"Logout"})]})]})]})},Z=f.memo(({user:s,menuOpen:n,setMenuOpen:a})=>{const{toggleTheme:r,theme:o}=l.useContext(M),t=N(),c=()=>{try{console.log("Btn clicked"),t(O(C.get("token")))}catch(i){console.log(i,"logout")}};return e.jsx(e.Fragment,{children:e.jsx("header",{className:"relative h-[59px]",children:e.jsxs("nav",{className:"fixed shadow-sm bg-primary  dark:bg-support dark:text-gray-50 bg-blend-difference text-gray-600  h-[59px] items-center pr-5 pl-2  flex justify-between z-40 w-full top-0 ",children:[e.jsx("div",{className:"lg:hidden",children:e.jsx(R,{onClick:()=>a(!n)})}),e.jsx("div",{className:"flex gap-1 items-center",children:e.jsx(m,{to:"/",children:e.jsx("img",{src:k,className:"h-10",alt:"Logo"})})}),e.jsx("div",{className:"flex items-center gap-3",children:s?e.jsx(e.Fragment,{children:e.jsx(X,{handleLogout:c})}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(m,{to:"/login",className:"text-sm font-medium hover:underline",children:"Login"}),e.jsx(U,{orientation:"vertical",flexItem:!0,sx:{bgcolor:"grey.500"}}),e.jsx(m,{to:"/register",className:"text-sm font-medium hover:underline",children:"Signup"})]})})]})})})}),ee=f.memo(({showMenu:s,setShowMenu:n})=>{const{user:a}=d(t=>t.auth),r=[{icon:e.jsx(E,{sx:{fontSize:"18px"}}),label:"Dashboard",path:"/admin/",type:"private"},{icon:e.jsx(J,{sx:{fontSize:"18px"}}),label:"Quiz",path:"/admin/quiz",type:"private"},{icon:e.jsx(_,{sx:{fontSize:"18px"}}),label:"Test",path:"/admin/test",type:"private"},{icon:e.jsx(q,{sx:{fontSize:"18px"}}),label:"Campus Test",path:"/admin/campustest",type:"private"},{icon:e.jsx(K,{sx:{fontSize:"18px"}}),label:"Problems",path:"/admin/problems",type:"private"},{icon:e.jsx(Y,{}),label:"Question Bank",path:"/admin/questionbank",type:"private"},{icon:e.jsx(W,{sx:{fontSize:"18px"}}),label:"Groups",path:"/admin/groups",type:"private"}],o=z();return e.jsx(e.Fragment,{children:e.jsx("aside",{className:`
                    z-40 h-[calc(100vh-59px)] top-[60px] fixed left-0
                    bg-primary
                    transition-all duration-300 ease-in-out
                    ${s?"lg:w-[150px] md:w-[100px]  ":"w-0 lg:w-[87px]"}
                    overflow-hidden
                `,children:e.jsx("ul",{className:"pt-5",children:r.map((t,c)=>{const i=t.path===o.pathname;if(!(!a&&t.type=="private"))return e.jsxs(m,{to:t.upcoming?"":t.path,className:`
                  ${t.upcoming?"cursor-not-allowed":""}
          flex flex-col relative items-center gap-1
          ${s?"justify-start":"lg:justify-center"}
          py-3
           dark:text-white text-black hover:bg-gray-500 hover:text-gray-100
          transition-all mx-2 duration-300 ease-in-out
          ${s?"":"hidden lg:flex"}
          ${i?"bg-secondary dark:bg-support ":""}
        `,children:[e.jsx("span",{className:"text-end",children:t.icon}),t.upcoming&&e.jsx("span",{className:"text-[7px] text-white bg-red-600 p-1 absolute rotate-45 rounded-lg top-0 right-0",children:"New"}),e.jsx("span",{className:"text-xs text-nowrap text-start",children:t.label})]},c)})})})})}),ve=({children:s})=>{const[n,a]=l.useState(!1),r=z(),{user:o}=d(i=>i.auth),t=()=>a(!n);l.useEffect(()=>{a(!1)},[r]);const c=async()=>await customSignOut();return r.pathname.includes("/blog"),e.jsxs(e.Fragment,{children:[e.jsx(Z,{user:o,handleLogout:c,menuOpen:n,setMenuOpen:a}),e.jsxs(e.Fragment,{children:[e.jsx(ee,{setShowMenu:a,user:o,showMenu:n,toggleMenu:t}),e.jsx(l.Suspense,{fallback:e.jsx("div",{className:"flex fixed top-0 justify-center items-center h-screen w-screen",children:e.jsx(V,{})}),children:e.jsx("main",{className:`
           pl-5 lg:pl-[110px]
           pr-5 py-5  bg-[#f0f0f0] min-h-[calc(100vh-59px)] text-gray-800 transition-all`,children:s||e.jsx(L,{})})})]})]})};export{ve as default};
