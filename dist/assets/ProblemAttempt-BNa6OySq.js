import{e as E,j as e,d as B,B as $,a as D,r as l,K as O,i as V,H as _,o as K}from"./index-B7On-SPP.js";import"./TestOutputContext-DFPXYxbZ.js";import{u as P}from"./useQuery-DGmGbAKA.js";import{d as U}from"./index-BOcT_nub.js";import{T as W}from"./Tooltip-B_cKLLPG.js";import{C as q}from"./ContentCopy-CYksl87o.js";import{B as Y,S as I}from"./Bolt-DuGNc0GZ.js";import{A as G}from"./Article-Dz0ToHM-.js";import{A as R,a as F}from"./ArrowRight-CH0I6yF8.js";import"./useQuery-BiZX1g6U.js";import"./index-DjSVbezk.js";import"./Grow-gOKoJ6gI.js";import"./Popper-P8qIOig8.js";const Q=E(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),X=E(e.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Z=E(e.jsx("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt"),J=async({queryKey:s})=>{const[n,{endpoint:a,params:x}]=s;return(await B.get(`${$}/api/data/user/${a.prefix}/${a.suffix}`,{params:x,withCredentials:!0})).data};function ee({setSubmitting:s,current:n,response:a,submitHandler:x,setAnswers:c,problem:i,submitSection:t,timeLeft:m,isExecuting:g}){if(!i)return e.jsx(e.Fragment,{children:"Select a problem"});const{user:y}=D(r=>r.auth),f=i==null?void 0:i._id,d=r=>`${f}_${r}_code`,j=()=>`${f}_language`,L="java",[z,N]=l.useState(L),[T,h]=l.useState(""),[k,v]=l.useState(!1);l.useEffect(()=>{var w,b,S,M;const r=(w=i.functionSignature)!=null&&w.some(C=>C.language===L)?L:(S=(b=i==null?void 0:i.functionSignature)==null?void 0:b[0])==null?void 0:S.language;sessionStorage.setItem(j(),r);const o=sessionStorage.getItem(d(r));if(o)h(o);else{const C=(M=i.functionSignature)==null?void 0:M.find(H=>H.language===r);C?(h(C.signature),sessionStorage.setItem(d(r),C.signature)):h("")}N(r)},[i]);const A=r=>{var S;const o=r.target.value;sessionStorage.setItem(j(),o);const w=sessionStorage.getItem(d(o)),b=(S=i.functionSignature)==null?void 0:S.find(M=>M.language===o);w?h(w):b?(h(b.signature),sessionStorage.setItem(d(o),b.signature)):h(""),N(o)},u=r=>{h(r),sessionStorage.setItem(d(z),r)},p=async(r,o,w)=>{};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-[calc(100vh-45px)] overflow-hidden",children:[e.jsxs("div",{className:"h-[47px] flex justify-between px-4 items-center gap-2  border-b border-gray-200 w-full ",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("select",{className:"border border-gray-200 rounded px-2 py-1 text-sm text-slate-700",value:z,onChange:A,children:i.functionSignature.map(r=>e.jsx("option",{value:r.language,children:r.language.toUpperCase()},r.language))})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{children:e.jsx(Z,{sx:{fontSize:18,cursor:"pointer"}})}),e.jsx(X,{sx:{fontSize:18,cursor:"pointer"}}),e.jsx(q,{sx:{fontSize:15,cursor:"pointer"}})]})]}),e.jsxs("div",{className:"",children:[e.jsx(U,{language:z,value:T,onChange:u,options:{padding:"100px"},theme:"vs-dark",height:"calc(100vh - (45px + 47px + 55px))"}),e.jsxs("div",{className:"flex items-center justify-end h-[55px] gap-2",children:[e.jsx("button",{disabled:g,className:"flex items-center cursor-pointer rounded-md border border-gray-200 py-2 px-4 text-sm shadow-sm hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-800 hover:border-slate-800",onClick:()=>p(),children:g?"Running...":e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"",children:"Run"}),e.jsx(Y,{sx:{fontSize:18}})]})}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("button",{className:"relative z-10 flex items-center cursor-pointer rounded-md border border-orange-500 bg-orange-100 py-2 px-4 text-sm font-medium text-orange-700 hover:bg-orange-500 hover:text-white overflow-hidden transition duration-300",onClick:()=>v(!0),children:"Submit Code"}),e.jsx("span",{className:"absolute top-0 left-[-75%] w-[50%] h-full bg-white opacity-20 rotate-12 animate-shine z-0"})]})]})]}),e.jsx(O,{open:k,onClose:()=>v(!1),children:e.jsxs("div",{style:{transform:"translate(-50%, -50%)"},className:"relative top-[50%] left-[50%] p-6 w-2/5 min-w-[40%] max-w-[40%] rounded-lg bg-white shadow-lg",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"flex shrink-0 items-center pb-4 text-xl font-medium text-slate-800",children:"Are you sure you want to submit?"}),e.jsxs("div",{className:"relative border-t border-gray-200 py-4 leading-normal text-slate-600 font-light",children:[e.jsxs("p",{className:"text-red-600",children:["Note : This will submit the whole coding section ",e.jsx("br",{}),"Please make sure you have written code for each question on given editor"]}),"This action is"," ",e.jsx("span",{className:"font-semibold text-red-600",children:"irreversible"}),". Once submitted, your changes cannot be undone."]}),e.jsxs("div",{className:"flex shrink-0 flex-wrap items-center pt-4 justify-end",children:[e.jsx("button",{onClick:()=>{v(!1)},"data-dialog-close":"true",className:"rounded-md cursor-pointer border border-transparent py-2 px-4 text-center text-sm transition-all text-slate-600 hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button",children:"Cancel"}),e.jsx("button",{onClick:x,"data-dialog-close":"true",className:"rounded-md cursor-pointer bg-green-600 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-green-700 focus:shadow-none active:bg-green-700 hover:bg-green-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2",type:"button",children:"Confirm"})]})]})})]})})}function se({results:s=[],summary:n,isExecuting:a=!1,testCases:x=[]}){const[c,i]=l.useState("testcases");return l.useEffect(()=>{console.log(s),a||(s==null?void 0:s.length)>0?i("result"):i("testcases")},[s,a]),e.jsxs("div",{className:"bottom-0 z-40 transition-transform duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex absolute p-2 items-center h-[45px] w-full border border-slate-300 bg-white px-3 text-center text-sm transition-all shadow-sm text-slate-600",children:[e.jsx("button",{onClick:()=>i("testcases"),className:"cursor-pointer flex items-center rounded-md py-2 px-4 text-sm transition-all text-slate-600 hover:text-white hover:bg-slate-800",children:"Testcases"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 mx-1.5",children:e.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"})}),(a||(s==null?void 0:s.length)>0)&&e.jsx("button",{onClick:()=>i("result"),className:"cursor-pointer  flex items-center rounded-md py-2 px-4 text-sm transition-all text-slate-600 hover:text-white hover:bg-slate-800",children:"Output"})]}),e.jsx("div",{className:"w-full h-[45px]"}),c==="result"&&n&&!a&&e.jsxs("div",{className:"bg-white items-center rounded-lg shadow p-4 px-8 flex justify-between text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:n.passed})," / ",n.total," Passed"]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{children:["Time: ",e.jsxs("strong",{children:[n.avgTime,"s"]})]}),e.jsxs("div",{children:["Memory: ",e.jsxs("strong",{children:[n.avgMemory," KB"]})]})]})]}),c==="result"&&e.jsx("div",{className:"rounded-lg px-7 py-4",children:a?e.jsx(e.Fragment,{children:[...Array(2)].map((t,m)=>e.jsxs("div",{className:"mb-4",children:[e.jsx(I,{variant:"text",width:"30%",height:20}),e.jsx(I,{variant:"rectangular",height:60,className:"rounded mb-2"})]},m))}):(s==null?void 0:s.length)>0?s.slice(0,2).map((t,m)=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex  mt-3 items-center bg-gray-100 w-fit py-1 px-3 rounded-sm text-md text-gray-700 gap-2",children:[e.jsx("span",{className:`rounded-full h-2 w-2 ${t!=null&&t.passed?"bg-green-600":"bg-red-400"}`}),e.jsxs("label",{htmlFor:"",children:["Case ",m+1]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Input:"}),e.jsx("div",{className:"bg-gray-100 rounded p-2 whitespace-pre-wrap",children:t==null?void 0:t.input})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Expected Output:"}),e.jsx("div",{className:"bg-gray-100 rounded p-2 whitespace-pre-wrap",children:t==null?void 0:t.expected})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Your Output:"}),e.jsx("div",{className:"bg-gray-100 rounded p-2 whitespace-pre-wrap",children:t==null?void 0:t.output})]}),!(t!=null&&t.passed)&&(t==null?void 0:t.error)&&e.jsxs("div",{className:"text-red-600 mt-2",children:[e.jsx("strong",{children:"Error:"})," ",t==null?void 0:t.error]})]},m)):e.jsx("div",{className:"text-gray-600 text-sm text-center mt-4",children:"No output available."})}),c==="testcases"&&x.length>0&&e.jsx("div",{className:"rounded-lg",children:x.slice(0,2).map((t,m)=>{var g,y;return e.jsxs("div",{className:"grid px-7 grid-cols-1 gap-4 text-sm text-gray-700 mt-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Input:"}),e.jsx("div",{className:"bg-gray-100 rounded p-2 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:(g=t==null?void 0:t.input)==null?void 0:g.replace(/\n/g,"<br/>")}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Expected Output:"}),e.jsx("div",{className:"bg-gray-100 rounded p-2 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:(y=t==null?void 0:t.output)==null?void 0:y.replace(/\n/g,"<br/>")}})]})]},m)})}),c==="testcases"&&x.length===0&&e.jsx("div",{className:"text-gray-600 text-sm text-center mt-4",children:"No test cases available."})]})}const te=[];function ne(s){return s.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function ae(s){const n=te.find(x=>x.slug===s);if(n)return n;const a=ne(s);return{title:a,description:`Solve the problem "${a}" on BinaryKeeda â€“ a platform to sharpen your DSA skills.`}}function we(){const{slug:s}=V(),{title:n,description:a}=ae(s),x=[s,{endpoint:{prefix:"problems",suffix:s}}],{data:c,isLoading:i}=P({queryKey:x,queryFn:J,staleTime:3e5,cacheTime:36e5}),[t,m]=l.useState(46),[g,y]=l.useState(70),f=l.useRef(!1),d=l.useRef(null),j=l.useRef(!1),[L,z]=l.useState(!1),N=u=>{if(!j.current||!d.current)return;const p=d.current.getBoundingClientRect().width,r=u.clientX/p*100;r>20&&r<80&&m(r)},T=()=>{j.current=!0},h=()=>{j.current=!1},k=()=>{f.current=!0},v=u=>{if(!f.current||!d.current)return;const p=d.current.getBoundingClientRect().height,r=d.current.getBoundingClientRect().top,o=(u.clientY-r)/p*100;o>10&&o<90&&y(o)},A=()=>{f.current=!1};return l.useEffect(()=>(window.addEventListener("mousemove",v),window.addEventListener("mouseup",A),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",A)}),[]),l.useEffect(()=>(window.addEventListener("mousemove",N),window.addEventListener("mouseup",h),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",h)}),[]),i?e.jsx(e.Fragment,{children:"Loading ...."}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsxs("title",{children:[n," | BinaryKeeda"]}),e.jsx("meta",{name:"description",content:a})]}),e.jsx("header",{className:"h-[45px] relative shadow-lg  flex items-center",children:e.jsx("nav",{className:"h-[45px] sticky top-0 z-50 w-full shadow-lg px-4 flex items-center",children:e.jsx("img",{src:K,className:"h-8",alt:""})})}),e.jsxs("section",{ref:d,className:"h-[calc(100vh-(45px))]  w-full flex overflow-hidden",children:[e.jsxs("div",{className:"h-[100vh-45px] flex flex-col  overflow-hidden",style:{width:`${t}%`},children:[e.jsxs("div",{className:"h-[50px] gap-3 px-4 bg-gray-100 mt-3 rounded-full mx-2  flex overflow-x-scroll",children:[e.jsxs("button",{className:"flex  gap-1 items-center",children:[e.jsx(Q,{sx:{fontSize:"14px"},color:"inherit"}),e.jsx("small",{children:"Description"})]}),e.jsxs("button",{className:"flex gap-1 items-center",children:[e.jsx(G,{sx:{fontSize:"14px"},color:"inherit"}),e.jsx("small",{children:"Article"})]})]}),e.jsx("div",{className:"overflow-y-auto border-b border-gray-300",style:{height:`${g}%`},children:e.jsx(ie,{problem:c.data})}),e.jsx("div",{className:"h-[6px] gap-1 cursor-ns-resize bg-gray-300 flex items-center justify-center",onMouseDown:k,children:e.jsxs("div",{className:"relative rounded-full items-center justify-center h-[20px] gap-1  w-[20px]  z-50  bg-orange-500 flex flex-col-reverse",children:[e.jsx(R,{sx:{position:"absolute",fontSize:"10x",top:-5,transform:"rotate(90deg)"}}),e.jsx(F,{sx:{position:"absolute",transform:"rotate(90deg)",bottom:-5,fontSize:"10x"}})]})}),e.jsx("div",{className:"overflow-y-auto",style:{height:`${100-g-1}%`},children:e.jsx(se,{testCases:c.data.examples})})]}),e.jsx("div",{className:" flex justify-center px-[1px]  items-center h-full w-[10px] bg-gray-200  transition duration-150 relative z-10",children:e.jsxs("div",{onMouseEnter:u=>{const p=u.currentTarget.parentNode;p.style.backgroundColor="#e2e8f0"},onMouseLeave:u=>{const p=u.currentTarget.parentNode;p.style.backgroundColor="#e5e7eb"},onMouseDown:T,className:"cursor-ew-resize h-[20px] w-[20px] absolute top-[50%] bg-orange-500 flex justify-center items-center  text-gray-900 select-none  rounded-full    z-50",children:[e.jsx(R,{sx:{marginRight:-.7,fontSize:"18px"}}),e.jsx(F,{sx:{marginLeft:-.7,fontSize:"18px"}})]})}),e.jsx("div",{className:"h-full overflow-y-auto bg-white",style:{width:`${100-t}%`},children:e.jsx(ee,{problem:c==null?void 0:c.data})})]})]})}const re=({example:s})=>e.jsxs("div",{className:"bg-gray-200 p-3 rounded-md space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Input:"}),e.jsx("pre",{className:"bg-gray-100 px-2 py-1 rounded whitespace-pre-wrap",children:s.input})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Output:"}),e.jsx("pre",{className:"bg-gray-100 px-2 py-1 rounded whitespace-pre-wrap",children:s.output})]}),s.explanation&&e.jsxs("div",{children:[e.jsx("strong",{children:"Explanation:"}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:s.explanation})]})]}),ie=({problem:s})=>s?e.jsx("div",{className:"flex-[0.6] bg-white h-full overflow-y-scroll relative min-w-[200px] custom-scrollbar",children:e.jsxs("div",{className:"p-4 space-y-6 text-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:s.title}),s.description&&e.jsx("section",{children:e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s.description})}),Array.isArray(s.constraints)&&s.constraints.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Constraints"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600",children:s.constraints.map((n,a)=>e.jsx("li",{children:n},a))})]}),Array.isArray(s.inputFormat)&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Input Format"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600",children:s.inputFormat.map((n,a)=>e.jsx("li",{children:n},a))})]}),Array.isArray(s.outputFormat)&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Output Format"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600",children:s.outputFormat.map((n,a)=>e.jsx("li",{children:n},a))})]}),Array.isArray(s.examples)&&s.examples.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Sample Testcases"}),e.jsx("div",{className:"flex flex-col gap-4",children:s.examples.map((n,a)=>e.jsx(re,{example:n},a))})]}),Array.isArray(s.hints)&&s.hints.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Hints"}),e.jsx("ul",{className:"list-disc list-inside text-gray-600",children:s.hints.map((n,a)=>e.jsx("li",{children:n},a))})]}),Array.isArray(s.sampleTestCases)&&s.sampleTestCases.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Sample Test Cases"}),s.sampleTestCases.map((n,a)=>e.jsxs("div",{className:"mb-2 p-3 bg-gray-100 rounded space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Input:"}),e.jsx("pre",{className:"bg-gray-50 px-2 py-1 rounded whitespace-pre-wrap",children:n.input})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Output:"}),e.jsx("pre",{className:"bg-gray-50 px-2 py-1 rounded whitespace-pre-wrap",children:n.output})]}),n.explanation&&e.jsxs("div",{children:[e.jsx("strong",{children:"Explanation:"}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:n.explanation})]})]},a))]})]})}):null;export{we as default};
