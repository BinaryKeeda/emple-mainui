import{e as u,j as e,a as b,i as g,p as r,V as m,b as x,I as y,C as w,r as h,s as N,W as z,L}from"./index-BzqMK-5Q.js";import{H as S}from"./Header-lDrcZysQ.js";import{u as M}from"./useGroupData-BREDsNoY.js";import"./api-DAoqmLt2.js";import{A as C}from"./Avatar-2zhXPAac.js";import{D as H}from"./DashboardOutlined-C40tu_tS.js";import O from"./CompleteProfile-jN99Yjg9.js";import"./Drawer-DnHbq1k-.js";import"./index-C5i0qnz-.js";import"./mergeSlotProps-F7uSIcEj.js";import"./Paper-B8lMwiRX.js";import"./Divider-Is4L-GfL.js";import"./dividerClasses-Hh-hzqD6.js";import"./useQuery-BwvgRoWU.js";import"./Coin-DbmhUHmC.js";import"./ShortText-DFVDeutL.js";import"./Tooltip-BKiR5AFr.js";import"./Grow-CkhfG0Mv.js";import"./Popper-CCE9I4Aq.js";import"./useSlotProps-BgopYJX0.js";import"./usePreviousProps-BPBqXhnX.js";import"./PowerSettingsNew-Bsm2tTcD.js";import"./Autocomplete-dCaLV43g.js";import"./Select-xrbo5IP-.js";import"./Menu-D5QCRamG.js";import"./index-DUOvIePL.js";import"./extendSxProp-B_MukIfd.js";import"./Close-ChBOfOea.js";import"./Chip-BpicrFEt.js";import"./TextField-T3NKk-3H.js";const V=u(e.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 4h2v5l-1-.75L9 9zm9 16H6V4h1v9l3-2.25L13 13V4h5z"}),"BookOutlined"),A=u([e.jsx("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),e.jsx("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong"),_=u(e.jsx("path",{d:"M12 3 1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9zm6.82 6L12 12.72 5.18 9 12 5.28zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73z"}),"SchoolOutlined");function k({showMenu:d,setShowMenu:n}){var c,p;const{user:a}=b(t=>t.auth),{id:f}=g(),{data:s}=M({userId:a==null?void 0:a._id}),o=[{icon:e.jsx(H,{sx:{fontSize:25}}),label:"Dashboard",path:"/user",type:"private"},{icon:e.jsx(V,{sx:{fontSize:25}}),label:"Practice",path:"/user/practice",type:"public"},{icon:e.jsx(_,{sx:{fontSize:25}}),label:"Resources",path:"/user/resources",type:"public"},{icon:e.jsx(A,{sx:{fontSize:25}}),label:"ATS",path:"/user/resume"}];return e.jsxs(e.Fragment,{children:[e.jsx("aside",{className:"fixed md:flex hidden flex-col bg-[#1C1C1C] h-screen w-[90px] z-[999] left-0 top-0",children:e.jsxs("ul",{className:"flex items-center gap-3 mt-3 flex-col",children:[e.jsx("span",{className:"mb-4",children:e.jsx(C,{src:a==null?void 0:a.avatar})}),o.map((t,i)=>{if(t.type==="private"&&!a)return null;const l=location.pathname===t.path;return e.jsxs(r.div,{className:"relative flex items-center justify-center w-full",whileHover:{scale:1},children:[e.jsx(m,{children:l&&e.jsx(r.div,{layout:!0,initial:{x:-50,opacity:0},animate:{x:20,opacity:1},exit:{x:-50,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"absolute  left-0 top-0 w-full h-full bg-[#0e0e0e] rounded-md z-0 shadow-lg"})}),e.jsxs(x,{to:t.path,className:`relative flex flex-col items-center justify-center w-full text-white p-2 transition-all duration-300 z-10 ${l?"translate-x-5":""}`,children:[e.jsx(y,{color:"inherit",children:t.icon}),e.jsx("span",{className:"text-xs text-center",children:t.label})]})]},i)}),s&&((c=s==null?void 0:s.data)==null?void 0:c.map(t=>{var l,j,v;const i=location.pathname===`/user/group/${(l=t==null?void 0:t.group)==null?void 0:l._id}`;return e.jsxs(r.div,{className:"relative flex items-center justify-center w-full",whileHover:{scale:1},children:[e.jsx(m,{children:i&&e.jsx(r.div,{layout:!0,initial:{x:-50,opacity:0},animate:{x:20,opacity:1},exit:{x:-50,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"absolute left-0 top-0 w-full h-full bg-[#0e0e0e] rounded-md z-0 shadow-lg"})}),e.jsxs(x,{to:`/user/group/${(j=t==null?void 0:t.group)==null?void 0:j._id}`,className:`relative flex flex-col items-center justify-center w-full text-white p-2 transition-all duration-300 z-10 ${i?"translate-x-5":""}`,children:[e.jsx(y,{color:"inherit",children:"#"})," ",e.jsx("span",{className:"text-xs text-center",children:(v=t==null?void 0:t.group)==null?void 0:v.groupName})]})]},t._id)}))]})}),e.jsx(m,{children:d&&e.jsx(r.aside,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-[#1C1C1C]/60 flex justify-center items-center",children:e.jsxs(r.div,{initial:{scale:1,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"bg-white/10 border relative border-white/20 shadow-xl rounded-2xl backdrop-blur-md p-6 w-[320px] h-[360px] flex flex-col justify-evenly items-center",children:[e.jsx("button",{onClick:()=>n(!1),className:"flex justify-end top-2 right-2 text-white absolute",children:e.jsx(w,{})}),o.map((t,i)=>{if(t.type==="private"&&!a)return null;const l=location.pathname===t.path;return e.jsx(x,{to:t==null?void 0:t.path,className:`group relative w-full px-4 py-2 rounded-lg transition-all duration-200 flex flex-col items-center justify-center ${l?"bg-[#0e0e0e] w-[120%] shadow-lg translate-x-0 rounded-md":"hover:bg-white/10 hover:scale-[1.03]"}`,children:e.jsx("span",{className:"mt-1 text-sm text-white text-center",children:t.label})},i)}),(p=s==null?void 0:s.data)==null?void 0:p.map(t=>{var i;return e.jsx(x,{to:`/user/group/${(i=t==null?void 0:t.group)==null?void 0:i._id}`,className:"px-3 py-2 rounded-lg hover:bg-gray-200 text-gray-800 font-medium",children:t.group.groupName},t._id)})]})})})]})}const xe=({children:d})=>{const[n,a]=h.useState(!1),f=N(),{user:s}=b(p=>p.auth),o=()=>a(!n);h.useEffect(()=>{a(!1)},[f]);const c=async()=>await customSignOut();return e.jsxs(e.Fragment,{children:[e.jsx(S,{user:s,handleLogout:c,menuOpen:n,setMenuOpen:a}),s&&!(s!=null&&s.profileCompleted)&&e.jsx(O,{}),e.jsxs(e.Fragment,{children:[e.jsx(k,{setShowMenu:a,user:s,showMenu:n,toggleMenu:o}),e.jsx(h.Suspense,{fallback:e.jsx("div",{className:"flex fixed top-0 justify-center items-center h-screen w-screen",children:e.jsx(L,{})}),children:e.jsx("main",{className:`
           xs:p-1 bg-gray-100
            md:pl-[110px]
           md:pr-5 py-5  min-h-[calc(100vh-59px)] text-gray-800 transition-all`,children:d||e.jsx(z,{})})})]})]})};export{xe as default};
