import{r,a as j,j as e,o as w,b as l}from"./index-CYu2G9Yr.js";import{E as S,P as E}from"./ProfileModal-BXL_PKQ8.js";import{E as f}from"./ExpandMore-DGHGVUzs.js";import{A}from"./Avatar-h0zPPF1Y.js";function L(){var p,g;const[o,d]=r.useState(!1),[c,n]=r.useState(!1),[b,m]=r.useState(!1),[s,N]=r.useState(null),{user:x}=j(t=>t.auth),{data:a}=j(t=>t.auth.rankData);r.useEffect(()=>{localStorage.getItem("mode")==="dark"?(document.getElementById("root").classList.add("dark"),m(!0)):(document.getElementById("root").classList.remove("dark"),m(!1))},[b]),r.useEffect(()=>{N(x)},[x]),r.useEffect(()=>{console.log(a)},[a]);const[y,v]=r.useState(!1),h=((p=a==null?void 0:a.userRank)==null?void 0:p.solutions)||{},k=Object.values(h).reduce((t,i)=>t+((i==null?void 0:i.attempted)||0),0);return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"relative bg-primary h-[60px] w-full",children:e.jsxs("nav",{onMouseLeave:()=>{d(!1),n(!1)},className:"fixed shadow-sm bg-bg-primary dark:bg-support flex items-center px-3 pr-16 justify-between h-[60px] w-full z-10",children:[e.jsx("img",{src:w,className:"h-10",alt:"Logo"}),e.jsxs("ul",{className:"list-none gap-4 text-sm flex items-center",children:[e.jsx("li",{className:"nav-link mr-2 cursor-pointer",children:e.jsx(l,{to:"/",children:"Home"})}),e.jsx("li",{className:"nav-link mr-2 cursor-pointer",children:e.jsx(l,{to:"/user",children:"Dashboard"})}),e.jsxs("li",{className:"nav-link cursor-pointer flex items-center",onMouseEnter:()=>{n(!0),d(!1)},children:["Study",e.jsx(f,{sx:{fontSize:20,transition:"transform 0.5s ease",transform:c?"rotate(360deg)":"rotate(0deg)"}}),c&&e.jsxs("ul",{className:"dropdown-header",children:[e.jsx("li",{className:"px-4 py-1 text-sm hover:dark:bg-gray-800 hover:bg-gray-100 cursor-pointer",children:e.jsx(l,{to:"/user/binarykeeda-dsa-sheet",children:"DSA Sheet"})}),e.jsx("li",{className:"px-4 py-1 text-sm hover:dark:bg-gray-800 hover:bg-gray-100 cursor-pointer",children:e.jsx(l,{to:"/user/binarykeeda-210-sheet",children:"210 Roadmaps Sheet"})}),e.jsx("li",{className:"px-4 py-1 text-sm hover:dark:bg-gray-800 hover:bg-gray-100 cursor-pointer",children:e.jsx(l,{to:"/user/binarykeeda-roadmap-sheet",children:"Roadmaps"})})]})]}),e.jsxs("li",{className:"nav-link mr-2 cursor-pointer flex items-center",onMouseEnter:()=>{d(!0),n(!1)},children:["Practice",e.jsx(f,{sx:{fontSize:20,transition:"transform 0.2s ease",transform:o?"rotate(180deg)":"rotate(0deg)"}}),o&&e.jsxs("ul",{className:"dropdown-header",children:[e.jsx("li",{className:"px-4 py-1 text-sm hover:dark:bg-gray-800 hover:bg-gray-100 cursor-pointer",children:e.jsx(l,{to:"/user/test-series",children:"Test Series"})}),e.jsx("li",{className:"px-4 py-1 text-sm hover:dark:bg-gray-800 hover:bg-gray-100 cursor-pointer",children:e.jsx(l,{to:"/user/practice",children:"Go to quiz section"})})]})]})]})]})}),e.jsx("main",{className:"bg-secondary min-h-[calc(100vh-60px)] w-full p-4 sm:p-6 text-black",children:e.jsxs("section",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"dark:bg-support bg-white shadow-md rounded-md p-6 sm:p-10 flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center border-b md:border-r md:border-b-0 pb-6 md:pb-0 md:pr-6",children:[e.jsx(A,{src:s==null?void 0:s.avatar,sx:{height:130,width:130},className:"mb-4"}),e.jsx("h2",{className:"text-lg font-semibold",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s==null?void 0:s.email})]}),e.jsxs("div",{className:"flex-1 md:pl-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Institution"}),e.jsx("p",{className:"text-base font-medium",children:(s==null?void 0:s.university)||"N/A"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ranking (Global)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/medal-first.png",className:"h-6",alt:"Rank"}),e.jsxs("p",{className:"text-base font-medium",children:["Rank ",(a==null?void 0:a.globalRank)||"N/A"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ranking (University)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/icons/medal-first.png",className:"h-6",alt:"Rank"}),e.jsxs("p",{className:"text-base font-medium",children:["Rank ",(a==null?void 0:a.universityRank)||"N/A"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Quizzes Attempted"}),e.jsx("p",{className:"font-medium",children:k})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Tests Attempted"}),e.jsx("p",{className:"font-medium",children:((g=s==null?void 0:s.solutions)==null?void 0:g.totalTestSolutions)||"N/A"})]})]})]}),e.jsxs("div",{onClick:()=>v(!0),className:"flex gap-2 items-center text-primary hover:text-orange-500 cursor-pointer transition",children:[e.jsx(S,{sx:{fontSize:16},className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Edit"})]})]}),y&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",children:e.jsx(E,{})})}),e.jsxs("div",{className:"dark:bg-support bg-primary shadow-md rounded-md p-6",children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Quiz Category Breakdown"}),e.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{key:"aptitude",label:"Aptitude"},{key:"core",label:"Core"},{key:"miscellaneous",label:"Miscellaneous"},{key:"ease",label:"Ease"},{key:"medium",label:"Medium"},{key:"hard",label:"Hard"}].map(({key:t,label:i})=>{const u=h[t]||{};return e.jsxs("li",{className:"flex items-center justify-between gap-4 p-5 bg-white dark:bg-support dark:text-wg dark:border-gray-600 rounded-2xl shadow-md border hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-base font-bold",children:i}),e.jsxs("span",{className:"text-sm mt-1",children:[u.attempted??0," attempted",e.jsx("br",{}),"Average ",u.average??0]})]}),e.jsx("img",{src:`/profile/chart-${t}.png`,alt:`${i} Chart`,className:"h-14 w-14 object-contain"})]},t)})})]})]})})]})}export{L as default};
