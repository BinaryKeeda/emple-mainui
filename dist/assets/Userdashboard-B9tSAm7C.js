import{e as m,j as e,a as y,i as b,r as p,p as l,A as d,b as c,I as v,C as w,s as N,O as z,L as S}from"./index-Cw-TTt2Q.js";import{H as L}from"./Header-CDXuF30q.js";import{u as M}from"./useGroupData-B9KwRIuo.js";import"./api-w2jshKNb.js";import{A}from"./Avatar-kX7dBh8X.js";import{D as C}from"./DashboardOutlined-BtkX3Goc.js";import H from"./CompleteProfile-CKagRTbX.js";import"./useQuery-DVslpAe2.js";import"./Drawer-DRYFoNpQ.js";import"./index-BQr0Oul9.js";import"./mergeSlotProps-CIWjKpOs.js";import"./Paper-DEUqRhru.js";import"./Divider--wAHr-48.js";import"./dividerClasses-CSjf0cod.js";import"./ShortText-BDc93CEE.js";import"./usePreviousProps-Dd8udzH2.js";import"./profileData-DThhwKJj.js";import"./TextField-M4TmMMzK.js";import"./Select-gCma7GWS.js";import"./Menu-BUiVb5Mu.js";import"./Grow-BjMe797Z.js";import"./index-B5DdrQpV.js";import"./extendSxProp-C6ZwBt7c.js";import"./Autocomplete-yQZ3YKkD.js";import"./Close-CwbdtqUO.js";import"./Popper-CYn7jHni.js";import"./Chip-ChYy7A6Y.js";const O=m(e.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 4h2v5l-1-.75L9 9zm9 16H6V4h1v9l3-2.25L13 13V4h5z"}),"BookOutlined"),V=m([e.jsx("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),e.jsx("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong"),_=m(e.jsx("path",{d:"M12 3 1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9zm6.82 6L12 12.72 5.18 9 12 5.28zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73z"}),"SchoolOutlined");function k({showMenu:x,setShowMenu:r}){var j,g;const{user:s}=y(t=>t.auth),{id:u}=b(),{data:a}=M({userId:s==null?void 0:s._id}),[h,f]=p.useState(!1),o=[{icon:e.jsx(C,{sx:{fontSize:25}}),label:"Dashboard",path:"/user",type:"private"},{icon:e.jsx(O,{sx:{fontSize:25}}),label:"Practice",path:"/user/practice",type:"public"},{icon:e.jsx(_,{sx:{fontSize:25}}),label:"Resources",path:"/user/resources",type:"public"},{icon:e.jsx(V,{sx:{fontSize:25}}),label:"ATS",path:"/user/resume"}];return e.jsxs(e.Fragment,{children:[e.jsx("aside",{className:"fixed md:flex hidden flex-col bg-[#1C1C1C] h-screen w-[90px] z-[999] left-0 top-0",children:e.jsxs("ul",{className:"flex items-center gap-3 mt-3 flex-col",children:[e.jsx("span",{className:"mb-4",children:e.jsx(A,{src:s==null?void 0:s.avatar})}),o.map((t,i)=>{if(t.type==="private"&&!s)return null;const n=location.pathname===t.path;return e.jsxs(l.div,{className:"relative flex items-center justify-center w-full",whileHover:{scale:1},children:[e.jsx(d,{children:n&&e.jsx(l.div,{layout:!0,initial:{x:-50,opacity:0},animate:{x:20,opacity:1},exit:{x:-50,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"absolute  left-0 top-0 w-full h-full bg-[#0e0e0e] rounded-md z-0 shadow-lg"})}),e.jsxs(c,{to:t.path,className:`relative flex flex-col items-center justify-center w-full text-white p-2 transition-all duration-300 z-10 ${n?"translate-x-5":""}`,children:[e.jsx(v,{color:"inherit",children:t.icon}),e.jsx("span",{className:"text-xs text-center",children:t.label})]})]},i)}),(j=a==null?void 0:a.data)==null?void 0:j.map(t=>{const i=location.pathname===`/user/group/${t.group._id}`;return e.jsxs(l.div,{className:"relative flex items-center justify-center w-full",whileHover:{scale:1},children:[e.jsx(d,{children:i&&e.jsx(l.div,{layout:!0,initial:{x:-50,opacity:0},animate:{x:20,opacity:1},exit:{x:-50,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"absolute left-0 top-0 w-full h-full bg-[#0e0e0e] rounded-md z-0 shadow-lg"})}),e.jsxs(c,{to:`/user/group/${t.group._id}`,className:`relative flex flex-col items-center justify-center w-full text-white p-2 transition-all duration-300 z-10 ${i?"translate-x-5":""}`,children:[e.jsx(v,{color:"inherit",children:"#"})," ",e.jsx("span",{className:"text-xs text-center",children:t.group.groupName})]})]},t._id)})]})}),e.jsx(d,{children:x&&e.jsx(l.aside,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-[#1C1C1C]/60 flex justify-center items-center",children:e.jsxs(l.div,{initial:{scale:1,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"bg-white/10 border relative border-white/20 shadow-xl rounded-2xl backdrop-blur-md p-6 w-[320px] h-[360px] flex flex-col justify-evenly items-center",children:[e.jsx("button",{onClick:()=>r(!1),className:"flex justify-end top-2 right-2 text-white absolute",children:e.jsx(w,{})}),o.map((t,i)=>{if(t.type==="private"&&!s)return null;const n=location.pathname===t.path;return e.jsx(c,{to:t==null?void 0:t.path,className:`group relative w-full px-4 py-2 rounded-lg transition-all duration-200 flex flex-col items-center justify-center ${n?"bg-[#0e0e0e] w-[120%] shadow-lg translate-x-0 rounded-md":"hover:bg-white/10 hover:scale-[1.03]"}`,children:e.jsx("span",{className:"mt-1 text-sm text-white text-center",children:t.label})},i)}),(g=a==null?void 0:a.data)==null?void 0:g.map(t=>e.jsx(c,{to:`/group/${t.group._id}`,className:"px-3 py-2 rounded-lg hover:bg-gray-200 text-gray-800 font-medium",children:t.group.groupName},t._id))]})})})]})}const ne=({children:x})=>{const[r,s]=p.useState(!1),u=N(),{user:a}=y(o=>o.auth),h=()=>s(!r);p.useEffect(()=>{s(!1)},[u]);const f=async()=>await customSignOut();return a&&!(a!=null&&a.profileCompleted)?e.jsx(H,{}):e.jsxs(e.Fragment,{children:[e.jsx(L,{user:a,handleLogout:f,menuOpen:r,setMenuOpen:s}),e.jsxs(e.Fragment,{children:[e.jsx(k,{setShowMenu:s,user:a,showMenu:r,toggleMenu:h}),e.jsx(p.Suspense,{fallback:e.jsx("div",{className:"flex fixed top-0 justify-center items-center h-screen w-screen",children:e.jsx(S,{})}),children:e.jsx("main",{className:`
           xs:p-1 bg-gray-100
           md:pl-5 md:pl-[110px]
           md:pr-5 py-5  min-h-[calc(100vh-59px)] text-gray-800 transition-all`,children:x||e.jsx(z,{})})})]})]})};export{ne as default};
