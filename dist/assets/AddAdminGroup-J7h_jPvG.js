var Q=t=>{throw TypeError(t)};var K=(t,e,s)=>e.has(t)||Q("Cannot "+s);var c=(t,e,s)=>(K(t,e,"read from private field"),s?s.call(t):e.get(t)),w=(t,e,s)=>e.has(t)?Q("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),R=(t,e,s,o)=>(K(t,e,"write to private field"),o?o.call(t,s):e.set(t,s),s),M=(t,e,s)=>(K(t,e,"access private method"),s);import{r as p,af as k,ag as $,ah as S,j as i,a3 as H,a5 as O,ai as U,aj as q,b0 as j,bw as nt,bx as lt,ak as E,bB as ct,bE as dt,cf as _,cg as pt,bO as et,bQ as st,bG as ut,bP as ht,_ as bt,I as yt,d as ot,B as at}from"./index-B9lI-E5Z.js";import{u as gt}from"./useQuery-DK9cev7l.js";import{D as ft}from"./Delete-BVV2YONa.js";import{B as vt}from"./Box-Duasa5hI.js";import{T as mt}from"./Typography-ZiHRPRGe.js";import{P as xt}from"./Paper-B0Ue3MgX.js";import"./extendSxProp-B9T1A6Fe.js";import"./index-BzYBUyx_.js";const rt=p.createContext();function Ct(t){return k("MuiTable",t)}$("MuiTable",["root","stickyHeader"]);const Tt=t=>{const{classes:e,stickyHeader:s}=t;return U({root:["root",s&&"stickyHeader"]},Ct,e)},wt=H("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.stickyHeader&&e.stickyHeader]}})(q(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),F="table",Rt=p.forwardRef(function(e,s){const o=S({props:e,name:"MuiTable"}),{className:n,component:r=F,padding:a="normal",size:l="medium",stickyHeader:d=!1,...b}=o,u={...o,component:r,padding:a,size:l,stickyHeader:d},y=Tt(u),m=p.useMemo(()=>({padding:a,size:l,stickyHeader:d}),[a,l,d]);return i.jsx(rt.Provider,{value:m,children:i.jsx(wt,{as:r,role:r===F?null:"table",ref:s,className:O(y.root,n),ownerState:u,...b})})}),P=p.createContext();function Mt(t){return k("MuiTableBody",t)}$("MuiTableBody",["root"]);const jt=t=>{const{classes:e}=t;return U({root:["root"]},Mt,e)},kt=H("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),$t={variant:"body"},J="tbody",St=p.forwardRef(function(e,s){const o=S({props:e,name:"MuiTableBody"}),{className:n,component:r=J,...a}=o,l={...o,component:r},d=jt(l);return i.jsx(P.Provider,{value:$t,children:i.jsx(kt,{className:O(d.root,n),as:r,ref:s,role:r===J?null:"rowgroup",ownerState:l,...a})})});function Ht(t){return k("MuiTableCell",t)}const Ot=$("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Ut=t=>{const{classes:e,variant:s,align:o,padding:n,size:r,stickyHeader:a}=t,l={root:["root",s,a&&"stickyHeader",o!=="inherit"&&`align${j(o)}`,n!=="normal"&&`padding${j(n)}`,`size${j(r)}`]};return U(l,Ht,e)},zt=H("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],e[`size${j(s.size)}`],s.padding!=="normal"&&e[`padding${j(s.padding)}`],s.align!=="inherit"&&e[`align${j(s.align)}`],s.stickyHeader&&e.stickyHeader]}})(q(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?nt(E(t.palette.divider,1),.88):lt(E(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Ot.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),C=p.forwardRef(function(e,s){const o=S({props:e,name:"MuiTableCell"}),{align:n="inherit",className:r,component:a,padding:l,scope:d,size:b,sortDirection:u,variant:y,...m}=o,x=p.useContext(rt),N=p.useContext(P),G=N&&N.variant==="head";let z;a?z=a:z=G?"th":"td";let B=d;z==="td"?B=void 0:!B&&G&&(B="col");const I=y||N&&N.variant,L={...o,align:n,component:z,padding:l||(x&&x.padding?x.padding:"normal"),size:b||(x&&x.size?x.size:"medium"),sortDirection:u,stickyHeader:I==="head"&&x&&x.stickyHeader,variant:I},it=Ut(L);let W=null;return u&&(W=u==="asc"?"ascending":"descending"),i.jsx(zt,{as:z,ref:s,className:O(it.root,r),"aria-sort":W,scope:B,ownerState:L,...m})});function Nt(t){return k("MuiTableContainer",t)}$("MuiTableContainer",["root"]);const Bt=t=>{const{classes:e}=t;return U({root:["root"]},Nt,e)},At=H("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),Et=p.forwardRef(function(e,s){const o=S({props:e,name:"MuiTableContainer"}),{className:n,component:r="div",...a}=o,l={...o,component:r},d=Bt(l);return i.jsx(At,{ref:s,as:r,className:O(d.root,n),ownerState:l,...a})});function Pt(t){return k("MuiTableHead",t)}$("MuiTableHead",["root"]);const Kt=t=>{const{classes:e}=t;return U({root:["root"]},Pt,e)},Dt=H("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),qt={variant:"head"},X="thead",Gt=p.forwardRef(function(e,s){const o=S({props:e,name:"MuiTableHead"}),{className:n,component:r=X,...a}=o,l={...o,component:r},d=Kt(l);return i.jsx(P.Provider,{value:qt,children:i.jsx(Dt,{as:r,className:O(d.root,n),ref:s,role:r===X?null:"rowgroup",ownerState:l,...a})})});function It(t){return k("MuiTableRow",t)}const V=$("MuiTableRow",["root","selected","hover","head","footer"]),Lt=t=>{const{classes:e,selected:s,hover:o,head:n,footer:r}=t;return U({root:["root",s&&"selected",o&&"hover",n&&"head",r&&"footer"]},It,e)},Wt=H("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.head&&e.head,s.footer&&e.footer]}})(q(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${V.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${V.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:E(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:E(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),Y="tr",Z=p.forwardRef(function(e,s){const o=S({props:e,name:"MuiTableRow"}),{className:n,component:r=Y,hover:a=!1,selected:l=!1,...d}=o,b=p.useContext(P),u={...o,component:r,hover:a,selected:l,head:b&&b.variant==="head",footer:b&&b.variant==="footer"},y=Lt(u);return i.jsx(Wt,{as:r,ref:s,className:O(y.root,n),role:r===Y?null:"row",ownerState:u,...d})});var g,T,h,f,v,A,D,tt,Qt=(tt=class extends ct{constructor(e,s){super();w(this,v);w(this,g);w(this,T);w(this,h);w(this,f);R(this,g,e),this.setOptions(s),this.bindMethods(),M(this,v,A).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var o;const s=this.options;this.options=c(this,g).defaultMutationOptions(e),dt(this.options,s)||c(this,g).getMutationCache().notify({type:"observerOptionsUpdated",mutation:c(this,h),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&_(s.mutationKey)!==_(this.options.mutationKey)?this.reset():((o=c(this,h))==null?void 0:o.state.status)==="pending"&&c(this,h).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=c(this,h))==null||e.removeObserver(this)}onMutationUpdate(e){M(this,v,A).call(this),M(this,v,D).call(this,e)}getCurrentResult(){return c(this,T)}reset(){var e;(e=c(this,h))==null||e.removeObserver(this),R(this,h,void 0),M(this,v,A).call(this),M(this,v,D).call(this)}mutate(e,s){var o;return R(this,f,s),(o=c(this,h))==null||o.removeObserver(this),R(this,h,c(this,g).getMutationCache().build(c(this,g),this.options)),c(this,h).addObserver(this),c(this,h).execute(e)}},g=new WeakMap,T=new WeakMap,h=new WeakMap,f=new WeakMap,v=new WeakSet,A=function(){var s;const e=((s=c(this,h))==null?void 0:s.state)??pt();R(this,T,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},D=function(e){et.batch(()=>{var s,o,n,r,a,l,d,b;if(c(this,f)&&this.hasListeners()){const u=c(this,T).variables,y=c(this,T).context,m={client:c(this,g),meta:this.options.meta,mutationKey:this.options.mutationKey};(e==null?void 0:e.type)==="success"?((o=(s=c(this,f)).onSuccess)==null||o.call(s,e.data,u,y,m),(r=(n=c(this,f)).onSettled)==null||r.call(n,e.data,null,u,y,m)):(e==null?void 0:e.type)==="error"&&((l=(a=c(this,f)).onError)==null||l.call(a,e.error,u,y,m),(b=(d=c(this,f)).onSettled)==null||b.call(d,void 0,e.error,u,y,m))}this.listeners.forEach(u=>{u(c(this,T))})})},tt);function _t(t,e){const s=st(),[o]=p.useState(()=>new Qt(s,t));p.useEffect(()=>{o.setOptions(t)},[o,t]);const n=p.useSyncExternalStore(p.useCallback(a=>o.subscribe(et.batchCalls(a)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),r=p.useCallback((a,l)=>{o.mutate(a,l).catch(ut)},[o]);if(n.error&&ht(o.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:r,mutateAsync:n.mutate}}const Ft=async t=>(await ot.get(`${at}/api/admin/groups?search=${t}&withOwner=true`,{withCredentials:!0})).data.groups,Jt=async t=>{await ot.get(`${at}/api/admin/groups/admin/delete/${t}`,{withCredentials:!0})};function re(){const t="",e=st(),{data:s,isLoading:o,isError:n}=gt({queryKey:["groups",t],queryFn:()=>Ft(t)}),r=_t({mutationFn:Jt,onSuccess:()=>{e.invalidateQueries(["groups"])}});return o?i.jsx(vt,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:i.jsx(bt,{})}):n?i.jsx(mt,{color:"error",children:"Error fetching groups"}):i.jsx(Et,{elevation:0,component:xt,sx:{mt:2,borderRadius:3,boxShadow:3},children:i.jsxs(Rt,{children:[i.jsx(Gt,{children:i.jsxs(Z,{sx:{backgroundColor:"#f5f5f5"},children:[i.jsx(C,{sx:{fontWeight:"bold"},children:"S.No"}),i.jsx(C,{sx:{fontWeight:"bold"},children:"Group Name"}),i.jsx(C,{sx:{fontWeight:"bold"},children:"Group Admin"}),i.jsx(C,{sx:{fontWeight:"bold",pr:10},align:"right",children:"Actions"})]})}),i.jsx(St,{children:s==null?void 0:s.map((a,l)=>{var d;return i.jsxs(Z,{hover:!0,children:[i.jsx(C,{children:l+1}),i.jsx(C,{children:a==null?void 0:a.group.groupName}),i.jsx(C,{children:(d=a==null?void 0:a.userId)==null?void 0:d.name}),i.jsx(C,{align:"right",sx:{pr:10},children:i.jsx(yt,{color:"error",onClick:()=>r.mutate(a.group._id),disabled:r.isLoading,children:i.jsx(ft,{})})})]},a._id)})})]})})}export{re as default};
