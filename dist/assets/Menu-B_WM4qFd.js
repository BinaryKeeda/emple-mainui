import{r as n,v as ee,w as te,x as oe,j as z,y as W,z as re,A as se,W as Se,b4 as Re,aR as Q,aM as Ce,aV as Z,aS as Ee,aF as V,K as ke,aI as Le}from"./index-B_WPkkw_.js";import{u as Te}from"./index-BrKsNdXG.js";import{G as Fe,a as De}from"./Grow-DuRNkJQG.js";import{P as Ie}from"./Paper-C4EE142G.js";import{m as Oe}from"./mergeSlotProps-D4jpVCYE.js";function Ke(e){return typeof e=="string"}const ze=n.createContext({});function je(e){return ee("MuiList",e)}te("MuiList",["root","padding","dense","subheader"]);const He=e=>{const{classes:t,disablePadding:o,dense:b,subheader:y}=e;return se({root:["root",!o&&"padding",b&&"dense",y&&"subheader"]},je,t)},Ne=W("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disablePadding&&t.padding,o.dense&&t.dense,o.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Ae=n.forwardRef(function(t,o){const b=oe({props:t,name:"MuiList"}),{children:y,className:d,component:m="ul",dense:u=!1,disablePadding:h=!1,subheader:x,...S}=b,L=n.useMemo(()=>({dense:u}),[u]),T={...b,component:m,dense:u,disablePadding:h},i=He(T);return z.jsx(ze.Provider,{value:L,children:z.jsxs(Ne,{as:m,className:re(i.root,d),ref:o,ownerState:T,...S,children:[x,y]})})});function J(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function ue(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function me(e,t){if(t===void 0)return!0;let o=e.innerText;return o===void 0&&(o=e.textContent),o=o.trim().toLowerCase(),o.length===0?!1:t.repeating?o[0]===t.keys[0]:o.startsWith(t.keys.join(""))}function G(e,t,o,b,y,d){let m=!1,u=y(e,t,t?o:!1);for(;u;){if(u===e.firstChild){if(m)return!1;m=!0}const h=b?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!me(u,d)||h)u=y(e,u,o);else return u.focus(),!0}return!1}const We=n.forwardRef(function(t,o){const{actions:b,autoFocus:y=!1,autoFocusItem:d=!1,children:m,className:u,disabledItemsFocusable:h=!1,disableListWrap:x=!1,onKeyDown:S,variant:L="selectedMenu",...T}=t,i=n.useRef(null),v=n.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Se(()=>{y&&i.current.focus()},[y]),n.useImperativeHandle(b,()=>({adjustStyleForScrollbar:(r,{direction:l})=>{const c=!i.current.style.width;if(r.clientHeight<i.current.clientHeight&&c){const R=`${Re(Q(r))}px`;i.current.style[l==="rtl"?"paddingLeft":"paddingRight"]=R,i.current.style.width=`calc(100% + ${R})`}return i.current}}),[]);const H=r=>{const l=i.current,c=r.key;if(r.ctrlKey||r.metaKey||r.altKey){S&&S(r);return}const F=Z(l).activeElement;if(c==="ArrowDown")r.preventDefault(),G(l,F,x,h,J);else if(c==="ArrowUp")r.preventDefault(),G(l,F,x,h,ue);else if(c==="Home")r.preventDefault(),G(l,null,x,h,J);else if(c==="End")r.preventDefault(),G(l,null,x,h,ue);else if(c.length===1){const p=v.current,k=c.toLowerCase(),j=performance.now();p.keys.length>0&&(j-p.lastTime>500?(p.keys=[],p.repeating=!0,p.previousKeyMatched=!0):p.repeating&&k!==p.keys[0]&&(p.repeating=!1)),p.lastTime=j,p.keys.push(k);const D=F&&!p.repeating&&me(F,p);p.previousKeyMatched&&(D||G(l,F,!1,h,J,p))?r.preventDefault():p.previousKeyMatched=!1}S&&S(r)},I=Ce(i,o);let a=-1;n.Children.forEach(m,(r,l)=>{if(!n.isValidElement(r)){a===l&&(a+=1,a>=m.length&&(a=-1));return}r.props.disabled||(L==="selectedMenu"&&r.props.selected||a===-1)&&(a=l),a===l&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(a+=1,a>=m.length&&(a=-1))});const M=n.Children.map(m,(r,l)=>{if(l===a){const c={};return d&&(c.autoFocus=!0),r.props.tabIndex===void 0&&L==="selectedMenu"&&(c.tabIndex=0),n.cloneElement(r,c)}return r});return z.jsx(Ae,{role:"menu",ref:I,className:u,onKeyDown:H,tabIndex:y?0:-1,...T,children:M})});function Ue(e){return ee("MuiPopover",e)}te("MuiPopover",["root","paper"]);function fe(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.height/2:t==="bottom"&&(o=e.height),o}function de(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.width/2:t==="right"&&(o=e.width),o}function he(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function X(e){return typeof e=="function"?e():e}const $e=e=>{const{classes:t}=e;return se({root:["root"],paper:["paper"]},Ue,t)},Ge=W(ke,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ge=W(Ie,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ve=n.forwardRef(function(t,o){const b=oe({props:t,name:"MuiPopover"}),{action:y,anchorEl:d,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:h="anchorEl",children:x,className:S,container:L,elevation:T=8,marginThreshold:i=16,open:v,PaperProps:H={},slots:I={},slotProps:a={},transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:r,transitionDuration:l="auto",TransitionProps:c={},disableScrollLock:R=!1,...F}=b,p=n.useRef(),k={...b,anchorOrigin:m,anchorReference:h,elevation:T,marginThreshold:i,transformOrigin:M,TransitionComponent:r,transitionDuration:l,TransitionProps:c},j=$e(k),D=n.useCallback(()=>{if(h==="anchorPosition")return u;const s=X(d),g=(s&&s.nodeType===1?s:Z(p.current).body).getBoundingClientRect();return{top:g.top+fe(g,m.vertical),left:g.left+de(g,m.horizontal)}},[d,m.horizontal,m.vertical,u,h]),O=n.useCallback(s=>({vertical:fe(s,M.vertical),horizontal:de(s,M.horizontal)}),[M.horizontal,M.vertical]),B=n.useCallback(s=>{const P={width:s.offsetWidth,height:s.offsetHeight},g=O(P);if(h==="none")return{top:null,left:null,transformOrigin:he(g)};const $=D();let N=$.top-g.vertical,A=$.left-g.horizontal;const ie=N+P.height,ae=A+P.width,le=Q(X(d)),ce=le.innerHeight-i,pe=le.innerWidth-i;if(i!==null&&N<i){const E=N-i;N-=E,g.vertical+=E}else if(i!==null&&ie>ce){const E=ie-ce;N-=E,g.vertical+=E}if(i!==null&&A<i){const E=A-i;A-=E,g.horizontal+=E}else if(ae>pe){const E=ae-pe;A-=E,g.horizontal+=E}return{top:`${Math.round(N)}px`,left:`${Math.round(A)}px`,transformOrigin:he(g)}},[d,h,D,O,i]),[Y,_]=n.useState(v),C=n.useCallback(()=>{const s=p.current;if(!s)return;const P=B(s);P.top!==null&&s.style.setProperty("top",P.top),P.left!==null&&(s.style.left=P.left),s.style.transformOrigin=P.transformOrigin,_(!0)},[B]);n.useEffect(()=>(R&&window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)),[d,R,C]);const q=()=>{C()},K=()=>{_(!1)};n.useEffect(()=>{v&&C()}),n.useImperativeHandle(y,()=>v?{updatePosition:()=>{C()}}:null,[v,C]),n.useEffect(()=>{if(!v)return;const s=Ee(()=>{C()}),P=Q(X(d));return P.addEventListener("resize",s),()=>{s.clear(),P.removeEventListener("resize",s)}},[d,v,C]);let f=l;const w={slots:{transition:r,...I},slotProps:{transition:c,paper:H,...a}},[U,Pe]=V("transition",{elementType:Fe,externalForwardedProps:w,ownerState:k,getSlotProps:s=>({...s,onEntering:(P,g)=>{var $;($=s.onEntering)==null||$.call(s,P,g),q()},onExited:P=>{var g;(g=s.onExited)==null||g.call(s,P),K()}}),additionalProps:{appear:!0,in:v}});l==="auto"&&!U.muiSupportAuto&&(f=void 0);const ye=L||(d?Z(X(d)).body:void 0),[ne,{slots:be,slotProps:ve,...we}]=V("root",{ref:o,elementType:Ge,externalForwardedProps:{...w,...F},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:I.backdrop},slotProps:{backdrop:Oe(typeof a.backdrop=="function"?a.backdrop(k):a.backdrop,{invisible:!0})},container:ye,open:v},ownerState:k,className:re(j.root,S)}),[Me,xe]=V("paper",{ref:p,className:j.paper,elementType:ge,externalForwardedProps:w,shouldForwardComponentProp:!0,additionalProps:{elevation:T,style:Y?void 0:{opacity:0}},ownerState:k});return z.jsx(ne,{...we,...!Ke(ne)&&{slots:be,slotProps:ve,disableScrollLock:R},children:z.jsx(U,{...Pe,timeout:f,children:z.jsx(Me,{...xe,children:x})})})});function Be(e){return ee("MuiMenu",e)}te("MuiMenu",["root","paper","list"]);const _e={vertical:"top",horizontal:"right"},Xe={vertical:"top",horizontal:"left"},Ye=e=>{const{classes:t}=e;return se({root:["root"],paper:["paper"],list:["list"]},Be,t)},qe=W(Ve,{shouldForwardProp:e=>Le(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Je=W(ge,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qe=W(We,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),st=n.forwardRef(function(t,o){const b=oe({props:t,name:"MuiMenu"}),{autoFocus:y=!0,children:d,className:m,disableAutoFocusItem:u=!1,MenuListProps:h={},onClose:x,open:S,PaperProps:L={},PopoverClasses:T,transitionDuration:i="auto",TransitionProps:{onEntering:v,...H}={},variant:I="selectedMenu",slots:a={},slotProps:M={},...r}=b,l=Te(),c={...b,autoFocus:y,disableAutoFocusItem:u,MenuListProps:h,onEntering:v,PaperProps:L,transitionDuration:i,TransitionProps:H,variant:I},R=Ye(c),F=y&&!u&&S,p=n.useRef(null),k=(f,w)=>{p.current&&p.current.adjustStyleForScrollbar(f,{direction:l?"rtl":"ltr"}),v&&v(f,w)},j=f=>{f.key==="Tab"&&(f.preventDefault(),x&&x(f,"tabKeyDown"))};let D=-1;n.Children.map(d,(f,w)=>{n.isValidElement(f)&&(f.props.disabled||(I==="selectedMenu"&&f.props.selected||D===-1)&&(D=w))});const O={slots:a,slotProps:{list:h,transition:H,paper:L,...M}},B=De({elementType:a.root,externalSlotProps:M.root,ownerState:c,className:[R.root,m]}),[Y,_]=V("paper",{className:R.paper,elementType:Je,externalForwardedProps:O,shouldForwardComponentProp:!0,ownerState:c}),[C,q]=V("list",{className:re(R.list,h.className),elementType:Qe,shouldForwardComponentProp:!0,externalForwardedProps:O,getSlotProps:f=>({...f,onKeyDown:w=>{var U;j(w),(U=f.onKeyDown)==null||U.call(f,w)}}),ownerState:c}),K=typeof O.slotProps.transition=="function"?O.slotProps.transition(c):O.slotProps.transition;return z.jsx(qe,{onClose:x,anchorOrigin:{vertical:"bottom",horizontal:l?"right":"left"},transformOrigin:l?_e:Xe,slots:{root:a.root,paper:Y,backdrop:a.backdrop,...a.transition&&{transition:a.transition}},slotProps:{root:B,paper:_,backdrop:typeof M.backdrop=="function"?M.backdrop(c):M.backdrop,transition:{...K,onEntering:(...f)=>{var w;k(...f),(w=K==null?void 0:K.onEntering)==null||w.call(K,...f)}}},open:S,ref:o,transitionDuration:i,ownerState:c,...r,classes:T,children:z.jsx(C,{actions:p,autoFocus:y&&(D===-1||u),autoFocusItem:F,variant:I,...q,children:d})})});export{ze as L,st as M,Ae as a,Ke as i};
