import{e as A,j as e,r as i,a as _,q as R,u as F,al as V,am as $,d as C,B as k}from"./index-Ci_d4JdD.js";import{A as W}from"./Avatar-D0oeYGmP.js";const q=A(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Y=A(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail"),Q=["Core Computer Science","Information Technology","Computer Science & Engineering","Data Science","Full Stack Development","Artificial Intelligence & Machine Learning (AI/ML)","Cyber Security","Cloud Computing","Software Engineering","Blockchain Technology","Internet of Things (IoT)","Game Development","Augmented Reality (AR) & Virtual Reality (VR)","Computer Vision","Natural Language Processing (NLP)","DevOps","Mobile App Development","Embedded Systems","Human-Computer Interaction","Robotics","Quantum Computing","Big Data Analytics","Information Systems","Bioinformatics","High Performance Computing","Edge Computing","Computer Graphics & Animation","Other"],J=["2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036","2037"],K=[{name:"B.Tech in Computer Science Engineering",maxSemester:8},{name:"B.Tech in Mechanical Engineering",maxSemester:8},{name:"B.Tech in Electrical Engineering",maxSemester:8},{name:"B.Tech in Civil Engineering",maxSemester:8},{name:"B.Tech in Electronics and Communication Engineering",maxSemester:8},{name:"Bachelor of Computer Applications (BCA)",maxSemester:6},{name:"B.Sc in Information Technology",maxSemester:6},{name:"Bachelor of Business Administration (BBA)",maxSemester:6},{name:"Bachelor of Commerce (B.Com)",maxSemester:6},{name:"Bachelor of Economics (B.Econ)",maxSemester:6},{name:"Bachelor of Arts (BA) in English Literature",maxSemester:6},{name:"BA in History",maxSemester:6},{name:"BA in Sociology",maxSemester:6},{name:"BA in Political Science",maxSemester:6},{name:"Bachelor of Science (B.Sc) in Physics",maxSemester:6},{name:"B.Sc in Chemistry",maxSemester:6},{name:"B.Sc in Mathematics",maxSemester:6},{name:"B.Sc in Biotechnology",maxSemester:6},{name:"B.Sc in Environmental Science",maxSemester:6},{name:"Bachelor of Pharmacy (B.Pharm)",maxSemester:8},{name:"Bachelor of Physiotherapy (BPT)",maxSemester:8},{name:"Bachelor of Science in Nursing (B.Sc Nursing)",maxSemester:8},{name:"MBBS (Bachelor of Medicine and Surgery)",maxSemester:10},{name:"Bachelor of Dental Surgery (BDS)",maxSemester:8},{name:"Bachelor of Fine Arts (BFA)",maxSemester:6},{name:"Bachelor of Design (B.Des) in Fashion Design",maxSemester:8},{name:"B.Des in Interior Design",maxSemester:8},{name:"Bachelor of Laws (LLB)",maxSemester:6},{name:"M.Tech in Computer Science Engineering",maxSemester:4},{name:"M.Tech in Mechanical Engineering",maxSemester:4},{name:"M.Tech in Electrical Engineering",maxSemester:4},{name:"M.Tech in Civil Engineering",maxSemester:4},{name:"M.Tech in Electronics and Communication Engineering",maxSemester:4},{name:"Masters of Computer Applications (MCA)",maxSemester:4},{name:"M.Sc in Information Technology",maxSemester:4},{name:"Master of Business Administration (MBA)",maxSemester:4},{name:"Master of Commerce (M.Com)",maxSemester:4},{name:"Master of Economics (M.Econ)",maxSemester:4},{name:"Master of Arts (MA) in English Literature",maxSemester:4},{name:"MA in History",maxSemester:4},{name:"MA in Sociology",maxSemester:4},{name:"MA in Political Science",maxSemester:4},{name:"Master of Science (M.Sc) in Physics",maxSemester:4},{name:"M.Sc in Chemistry",maxSemester:4},{name:"M.Sc in Mathematics",maxSemester:4},{name:"M.Sc in Biotechnology",maxSemester:4},{name:"M.Sc in Environmental Science",maxSemester:4},{name:"Master of Pharmacy (M.Pharm)",maxSemester:4},{name:"Master of Physiotherapy (MPT)",maxSemester:4},{name:"Master of Science in Nursing (M.Sc Nursing)",maxSemester:4},{name:"Master of Fine Arts (MFA)",maxSemester:4},{name:"Master of Design (M.Des) in Fashion Design",maxSemester:4},{name:"M.Des in Interior Design",maxSemester:4},{name:"Master of Laws (LLM)",maxSemester:4}],x={specialization:Q,yearofgraduation:J,programs:K},X=["https://cdn.jsdelivr.net/gh/alohe/avatars/png/vibrent_20.png","https://cdn.jsdelivr.net/gh/alohe/avatars/png/upstream_17.png","https://cdn.jsdelivr.net/gh/alohe/avatars/png/teams_1.png","https://cdn.jsdelivr.net/gh/alohe/avatars/png/upstream_19.png","https://cdn.jsdelivr.net/gh/alohe/avatars/png/upstream_20.png","https://cdn.jsdelivr.net/gh/alohe/avatars/png/toon_7.png","https://cdn.jsdelivr.net/gh/alohe/avatars/png/toon_6.png","https://cdn.jsdelivr.net/gh/alohe/avatars/png/vibrent_17.png"],Z=x.specialization,ee=x.yearofgraduation,ae=m=>{const l=x.programs.find(s=>s.name===m),p=(l==null?void 0:l.maxSemester)||0;return Array.from({length:p},(s,r)=>`${r+1}`)},se=x.programs,ie=({onClose:m})=>{var M;const l=i.useRef({}),p=a=>{const t=l.current[`${a}-input`];if(!t)return!1;const n=t.getBoundingClientRect();return window.innerHeight-n.bottom<200},s=_(a=>a.auth.user),[r,d]=i.useState({yearOfGraduation:"",university:"",program:"",semester:"",specialisation:""}),[f,y]=i.useState((s==null?void 0:s.avatar)||""),[E,v]=i.useState(!1),[te,b]=i.useState(""),[w,j]=i.useState(!1),[N,L]=i.useState([]),[D,h]=i.useState(!1),[c,S]=i.useState({program:!1,specialisation:!1,yearOfGraduation:!1,semester:!1}),O=R();i.useEffect(()=>{s&&(d({yearOfGraduation:s.yearOfGraduation||"",university:s.university||"",program:s.program||"",semester:s.semester||"",specialisation:s.specialisation||""}),y(s.avatar||""))},[s]);const P=a=>{a.target.name==="university"&&(d({...r,[a.target.name]:a.target.value}),T(a.target.value),h(a.target.value.length>0),console.log("Show suggestions:",a.target.value.length>0))},T=async a=>{if(a)try{const n=(await C.get(`${k}/api/university/${a}`,{withCredentials:!0})).data.map(o=>o.name);L(n)}catch(t){console.error("Error fetching universities:",t)}},z=a=>{d({...r,university:a}),h(!1)},g=(a,t)=>{d({...r,[a]:t}),S({...c,[a]:!1})},u=a=>{const t=Object.keys(c).reduce((n,o)=>(n[o]=o===a?!c[o]:!1,n),{});S(t),h(!1)},B=a=>{const t=document.querySelectorAll(".dropdown-container");let n=!1;t.forEach(o=>{o.contains(a.target)&&(n=!0)}),n||(S({program:!1,specialisation:!1,yearOfGraduation:!1,semester:!1}),h(!1))};i.useEffect(()=>(document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}),[]);const G=a=>{y(a),v(!1)},I=async a=>{var t,n;if(a.preventDefault(),!(s!=null&&s._id))return b("User not authenticated");try{j(!0);const o={...r,id:s._id,avatar:f};await C.put(`${k}/api/profile/complete`,o,{withCredentials:!0}),window.location.reload()}catch(o){b(((n=(t=o.response)==null?void 0:t.data)==null?void 0:n.error)||"Update failed. Please try again.")}finally{j(!1)}},U=F(),H=()=>{try{console.log("Btn clicked"),U(V($.get("token"))),O("/")}catch(a){console.log(a,"logout")}};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:[e.jsxs("div",{className:"w-full max-w-2xl overflow-visible bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{style:{background:"linear-gradient(90deg, #db5602 0%, #e67a34 50%, #f9a03f 100%)"},className:`relative h-20
`,children:[e.jsx("div",{className:"absolute -bottom-12 left-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(W,{src:f||(s==null?void 0:s.avatar)||"https://randomuser.me/api/portraits/men/1.jpg",sx:{width:96,height:96,border:"4px solid white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-md",children:(M=s==null?void 0:s.name)==null?void 0:M.charAt(0).toUpperCase()}),e.jsx("button",{onClick:()=>v(!0),className:"absolute bottom-0 right-0 bg-white p-1 rounded-full shadow-md",children:e.jsx(q,{className:"text-[#db5602]",fontSize:"small"})})]})}),e.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-200",onClick:m,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"pt-16 px-6 pb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:(s==null?void 0:s.name)||"Thomas Holmes"}),e.jsxs("p",{className:"text-[#7e7e7e]",children:[e.jsx("span",{className:"mr-1",children:e.jsx(Y,{className:"text-[#db5602]",fontSize:"small"})}),(s==null?void 0:s.email)||"heythomas@gmail.com"]})]}),e.jsxs("button",{className:"absolute top-4 left-4 flex items-center gap-2 text-white hover:text-gray-200 text-sm",onClick:()=>H(),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1 relative dropdown-container",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["University",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"university",value:r.university,onChange:P,required:!0,placeholder:"Search for your university",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#db5602] focus:border-transparent"}),D&&N.length>0&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-[200px] overflow-auto",children:N.map((a,t)=>e.jsx("div",{className:"px-4 py-2 hover:bg-orange-50 cursor-pointer",onClick:()=>z(a),children:a},t))})]})]}),e.jsxs("div",{className:"space-y-1 relative dropdown-container",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Program",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#db5602] focus:border-transparent bg-white cursor-pointer flex items-center truncate",onClick:()=>u("program"),children:[e.jsx("span",{className:"truncate flex-1",children:r.program||"Select your program"}),e.jsx("svg",{className:"h-5 w-5 text-gray-400 ml-2 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),c.program&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:se.map((a,t)=>e.jsx("div",{className:"px-4 py-2 hover:bg-orange-50 cursor-pointer",onClick:()=>g("program",a.name),children:a.name},t))})]})]}),e.jsxs("div",{className:"space-y-1 relative dropdown-container",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Specialisation",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#db5602] focus:border-transparent bg-white cursor-pointer flex items-center truncate",onClick:()=>u("specialisation"),children:[e.jsx("span",{className:"truncate flex-1",children:r.specialisation||"Select your specialisation"}),e.jsx("svg",{className:"h-5 w-5 text-gray-400 ml-2 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),c.specialisation&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-[130px] overflow-auto",children:Z.map((a,t)=>e.jsx("div",{className:"px-4 py-2 hover:bg-orange-50 cursor-pointer",onClick:()=>g("specialisation",a),children:a},t))})]})]}),e.jsxs("div",{className:"space-y-1 relative dropdown-container",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Semester"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#db5602] focus:border-transparent bg-white cursor-pointer flex justify-between items-center",onClick:()=>u("semester"),children:[r.semester||"Select your semester",e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),c.semester&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-[130px] overflow-auto",children:ae(r.program).map((a,t)=>e.jsx("div",{className:"px-4 py-2 hover:bg-orange-50 cursor-pointer",onClick:()=>g("semester",a),children:a},t))})]})]}),e.jsxs("div",{className:"space-y-1 relative dropdown-container",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Graduation Year",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#db5602] focus:border-transparent bg-white cursor-pointer flex justify-between items-center truncate overflow-x-auto whitespace-nowrap",onClick:()=>u("yearOfGraduation"),ref:a=>l.current["yearOfGraduation-input"]=a,children:[r.yearOfGraduation||"Select graduation year",e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),c.yearOfGraduation&&e.jsx("div",{className:`absolute z-10 ${p("yearOfGraduation")?"bottom-full mb-1":"mt-1"} w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-[130px] overflow-y-auto`,ref:a=>l.current["yearOfGraduation-dropdown"]=a,children:ee.map((a,t)=>e.jsx("div",{className:"px-4 py-2 hover:bg-orange-50 cursor-pointer",onClick:()=>g("yearOfGraduation",a),children:a},t))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200 mt-6",children:[e.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition",children:"Discard"}),e.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 text-sm font-medium text-white bg-[#db5602] hover:bg-[#b34600] rounded-md transition flex items-center justify-center",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})]}),E&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl border border-orange-100",children:[e.jsx("h3",{className:"text-xl font-bold text-center mb-4 text-[#db5602]",children:"Choose Your Avatar"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:X.map(a=>e.jsx("img",{src:a,alt:"avatar",onClick:()=>G(a),className:`w-16 h-16 rounded-full cursor-pointer transition-all ${f===a?"ring-4 ring-[#db5602] scale-110":"hover:ring-2 hover:ring-[#db5602]/50"}`},a))}),e.jsx("button",{onClick:()=>v(!1),className:"mt-6 w-full py-2 bg-orange-50 hover:bg-orange-100 rounded-lg transition text-[#db5602] font-medium border border-orange-100",children:"Close"})]})})]})};export{q as E,ie as P};
