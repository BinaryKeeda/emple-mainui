import{n as x,r as u,j as e,o as m,ad as g,L as b,b as j,B as p}from"./index-ChqbYpVw.js";import{u as f}from"./TestProvider-BYXhBldI.js";import"./useQuery-C37HoIeA.js";function S(){const{test:s,testResponse:n,setHasAgreed:l,setStartedAt:a}=f(),{showSnackbar:i}=x(),r=(s==null?void 0:s.sections)||[],[c,o]=u.useState(!1),d=async()=>{o(!0);try{const t=await j.post(`${p}/api/test/start`,{submissionId:n._id},{withCredentials:!0});l(!0),a(t.data.startedAt),i("Test Started","success"),l(!0)}catch(t){console.log(t),i("Error Starting Test","error")}finally{o(!1)}};return e.jsxs("main",{className:"h-screen bg-white overflow-y-scroll w-screen custom-scrollbar",children:[e.jsxs("header",{className:"h-[40px] flex justify-between shadow-sm items-center px-5",children:[e.jsx("nav",{children:e.jsx("img",{src:m,className:"h-8",alt:"Logo"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{htmlFor:"language",className:"text-sm text-gray-600",children:"Language:"}),e.jsx("select",{id:"language",className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-orange-500 focus:border-orange-500",onChange:t=>console.log(t.target.value),children:e.jsx("option",{value:"en",children:"English"})})]})]}),e.jsxs("section",{className:"max-w-6xl w-full mx-auto px-6 py-8",children:[e.jsx("h2",{className:"text-center text-xl font-semibold underline mb-6",children:"Please read the following instructions carefully before beginning the test"}),e.jsxs("ul",{className:"list-none space-y-3 text-gray-800 text-base",children:[e.jsxs("li",{children:["➤ The total duration of the test is"," ",e.jsxs("strong",{children:[(s==null?void 0:s.duration)||60," minutes"]}),"."]}),e.jsxs("li",{children:["➤ The test consists of ",e.jsx("strong",{children:r.length})," section",r.length!==1&&"s","."]}),e.jsxs("li",{children:["➤ Sections may be of type ",e.jsx("strong",{children:"Quiz"})," or"," ",e.jsx("strong",{children:"Coding"}),"."]}),e.jsxs("li",{children:["➤ Each ",e.jsx("strong",{children:"Quiz"})," section includes MCQs, MSQs, and short answer questions."]}),e.jsxs("li",{children:["➤ Each ",e.jsx("strong",{children:"Coding"})," section presents a problem statement — you must solve it using the provided code editor."]}),e.jsxs("li",{children:["➤ ",e.jsx("strong",{children:"Tab change monitoring"})," is enabled. Switching tabs may negatively impact your result."]}),e.jsxs("li",{children:["➤"," ",e.jsx("strong",{children:"Do not close or refresh the browser tab once the test starts."})," ","Doing so may lead to data loss or disqualification."]}),e.jsxs("li",{children:["➤ ",e.jsx("strong",{children:"Plagiarism is strictly prohibited."})," All code submissions must be your own."]}),e.jsxs("li",{children:["➤ In ",e.jsx("strong",{children:"Quiz sections"}),", question status is color-coded:",e.jsxs("ul",{className:"list-none grid grid-cols-4 ml-6 mt-2 space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-green-100 border border-green-400 "}),e.jsx("span",{children:"Attempted (Done)"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-orange-100 border border-orange-400"}),e.jsx("span",{children:"Seen but not attempted"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full bg-blue-100 border border-blue-400 "}),e.jsx("span",{children:"Unseen / Not visited"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 rounded-full border-blue-600 bg-blue-50 border"}),e.jsx("span",{children:"Current Question"})]})]})]}),e.jsxs("li",{children:["➤ The test will be ",e.jsx("strong",{children:"auto-submitted"})," once the time runs out. Please track the on-screen timer."]}),e.jsxs("li",{children:["➤ Once a section is submitted, you may"," ",e.jsx("strong",{children:"not be able to return"})," to it. Double-check before submitting."]}),e.jsxs("li",{children:["➤ ",e.jsx("strong",{children:"Do not use any external help"})," like ChatGPT, online IDEs, or discuss answers with anyone."]}),e.jsxs("li",{children:["➤ ",e.jsx("strong",{children:"Use a laptop or desktop."})," Mobile devices are not recommended."]}),e.jsxs("li",{children:["➤ ",e.jsx("strong",{children:"Ensure a stable internet connection."})," Disruptions may affect your test progress."]})]}),e.jsxs("div",{className:"mt-6 border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Test Sections Overview"}),e.jsx("div",{className:"space-y-2",children:r.map((t,h)=>e.jsx("div",{className:"",children:e.jsxs("p",{children:[e.jsxs("strong",{children:["➤ ",t.name]})," – Type: ",t.sectionType]})},h))})]}),e.jsx("p",{className:"mt-8 text-center text-red-600 font-semibold",children:'By clicking "Start Test", you agree to follow the rules above. Any violation may lead to test cancellation.'}),e.jsx(y,{label:"Start Test",callback:()=>{d()}})]}),e.jsx(g,{open:c||!1,children:e.jsx("div",{style:{transform:"translate(-50%, -50%)"},className:"relative top-[50%] left-[50%] p-6 w-2/5 min-w-[40%] max-w-[40%] rounded-lg bg-white shadow-lg",role:"dialog","aria-modal":"true",children:e.jsx(b,{})})})]})}const y=({label:s,callback:n})=>e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:n,className:"mt-6 px-6 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-colors","aria-label":s,children:s})});export{y as CustomButton,S as default};
